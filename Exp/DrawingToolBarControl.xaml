<UserControl xmlns:CommonControls="clr-namespace:CommonControls;assembly=CommonControls" 
             x:Class="Exp.DrawingToolBarControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:Exp"
             x:Name="RootToolbar"
             Height="200" Width="300">

    <UserControl.Resources>
        <local:EnumToBoolConverter x:Key="EnumToBoolConverter"/>
        <local:BoolToVisConverter x:Key="BoolToVis"/>
    </UserControl.Resources>

    <Grid>
        <TabControl>
            <!-- Tools Tab -->
            <TabItem Header="Tools">
                <StackPanel Orientation="Horizontal">
                    <RadioButton Content="Pencil"
                     GroupName="ToolGroup"
                     IsChecked="{Binding ActiveTool, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Pencil}" />

                    <RadioButton Content="Eraser"
                     GroupName="ToolGroup"
                     IsChecked="{Binding ActiveTool, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Eraser}" />

                    <CommonControls:ColorSelection StartColor="{Binding BrushColor, Mode=TwoWay}" Width="150" Margin="5"/>

                    <StackPanel Margin="10,0">
                        <TextBlock Text="Brush Size" />
                        <Slider Minimum="1" Maximum="50" Value="{Binding BrushSize}" Width="120"/>
                        <TextBlock Text="{Binding BrushSize, StringFormat=Size: {0:F0}}"/>
                    </StackPanel>
                </StackPanel>
            </TabItem>


            <!-- Area Tools Tab -->
            <TabItem Header="Area Tools">
                <StackPanel>
                    <TextBlock Text="Mode:" FontWeight="Bold" Margin="0,0,0,5"/>

                    <RadioButton Content="Fill"
                                 IsChecked="{Binding ActiveAreaMode, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Fill}" />
                    <RadioButton Content="Texture"
                                 IsChecked="{Binding ActiveAreaMode, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Texture}" />
                    <RadioButton Content="Filter"
                                 IsChecked="{Binding ActiveAreaMode, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Filter}" />
                    <RadioButton Content="Erase"
                                 IsChecked="{Binding ActiveAreaMode, Converter={StaticResource EnumToBoolConverter}, ConverterParameter=Erase}" />

                    <!-- Fill -->
                    <StackPanel Visibility="{Binding Fill.Enabled, Converter={StaticResource BoolToVis}}">
                        <TextBlock Text="Fill Color:"/>
                        <CommonControls:ColorSelection StartColor="{Binding Fill.Color, Mode=TwoWay}" Width="150"/>
                    </StackPanel>

                    <!-- Texture -->
                    <StackPanel Visibility="{Binding Texture.Enabled, Converter={StaticResource BoolToVis}}">
                        <TextBlock Text="Texture:"/>
                        <ComboBox ItemsSource="{Binding Textures}" SelectedItem="{Binding Texture.TextureName}"/>
                    </StackPanel>

                    <!-- Filter -->
                    <StackPanel Visibility="{Binding Filter.Enabled, Converter={StaticResource BoolToVis}}">
                        <TextBlock Text="Filter:"/>
                        <ComboBox ItemsSource="{Binding Filters}" SelectedItem="{Binding Filter.FilterName}"/>
                    </StackPanel>
                </StackPanel>
            </TabItem>
        </TabControl>
    </Grid>
</UserControl>
